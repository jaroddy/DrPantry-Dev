[workspace]
name = "drpantry-dev"
version = "0.1.0"
description = "Smart Food Inventory & Meal Planning App"
authors = ["jaroddy"]
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]

[tasks]
# Install Python dependencies from requirements.txt
install = "pip install -r backend/requirements.txt"

# Backend tasks
start = "cd backend && python main.py"
backend = { cmd = "cd backend && python main.py", env = { OPENAI_API_KEY = "$OPENAI_API_KEY" } }

# Frontend tasks  
install-frontend = "cd frontend && npm install"
frontend = "cd frontend && npm run dev"

# Combined setup
setup = { depends-on = ["install", "install-frontend"] }

[dependencies]
# Core runtime - Python and pip
python = "3.12.*"
pip = "*"

# System dependency for OCR
tesseract = "*"

# Node.js for frontend
nodejs = "20.*"

[pypi-dependencies]
# Backend Python packages from requirements.txt
fastapi = "==0.104.1"
uvicorn = { version = "==0.24.0", extras = ["standard"] }
pydantic = "==2.5.0"
sqlalchemy = "==2.0.23"
aiosqlite = "==0.19.0"
python-dateutil = "==2.8.2"
passlib = { version = "==1.7.4", extras = ["bcrypt"] }
python-jose = { version = "==3.3.0", extras = ["cryptography"] }
python-multipart = "==0.0.6"
openai = "==1.51.0"
httpx = "==0.27.0"
pillow = "==10.1.0"
pytesseract = "==0.3.10"
python-dotenv = "==1.0.0"
